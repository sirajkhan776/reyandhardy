{% extends "base.html" %}
{% block content %}
  <div class="container py-3">
    <h4>Customer Photos & Videos â€” {{ product.name }}</h4>
    <div class="text-muted small mb-2">{{ count }} media</div>
    {% if media %}
    <div class="row g-2">
      {% for m in media %}
        <div class="col-6 col-md-3">
          {% if m.is_image %}
            <a href="{{ m.file.url }}" target="_blank" class="d-block border rounded overflow-hidden">
              <img src="{{ m.file.url }}" alt="" style="width:100%;height:200px;object-fit:cover;display:block;" />
            </a>
          {% else %}
            <div class="border rounded overflow-hidden">
              <video controls preload="metadata" style="width:100%;height:200px;object-fit:cover;display:block;">
                <source src="{{ m.file.url }}" />
              </video>
            </div>
          {% endif %}
        </div>
      {% endfor %}
    </div>
    {% else %}
      <p class="text-muted">No media yet.</p>
    {% endif %}
  </div>
{% endblock %}
